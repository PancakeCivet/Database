# 课程设计

有3个项目，每个项目需要新建一个github仓库，使用git进行项目管理和版本管理

## 1. 第一阶段 数据库设计

设计一个数据库应用，需要满足：

- 能支持SQL语句解析

- 支持数据库表功能，能创建，维护数据库表

- 支持增，删，改，查功能，不要求效率

- 能够将数据库内容存储到本地数据库文件，也支持启动时读取文件

- 能够通过soket连接与后端app进行信息交互

## 2. 第二阶段 后端应用

设计一个后端aap，要求与第一阶段的数据库对接，该app为一个简单的商城系统，主要分为以下系统：

- 账户系统
- 商品系统
- 订单系统

### 账户系统

该商城的账户主要分2类：商家，用户。分别对应不同的权限：

#### 商家

- 商家可以上架商品，添加修改商品信息
- 对用户的订单进行处理，安排发货
- 统计商品出售情况，营业额等

#### 用户

- 用户可以选择商家浏览该商家的所有商品
- 选择商品查看详细参数
- 下单商品
- 统计交易记录

### 商品系统

商品由商家进行上架，维护，主要参数有：

- 商品名称
- 商品描述
- 商品图片
- 商品价格

### 订单系统

订单由用户进行下单，主要参数有：

- 订单流水号
- 下单日期
- 下单商品
- 下单人员

- 下单价格

### 表设计

数据表设计大体如下，可以自己进行调整：

#### 用户表

|  字段名  |  类型  | 说明                                   |
| :------: | :----: | :------------------------------------- |
|    ID    |  int   | 用户ID，创建用户自动生成，由数据库维护 |
|   Type   |  int   | 用户权限，分为0 - 商家，1 - 用户       |
|   Name   | string | 用户名称                               |
|   Ban    |  bool  | 用户是否被封禁                         |
| Account  | string | 用户登录账户                           |
| Password | string | 用户登录密码                           |
|  Money   | float  | 用户金额                               |

#### 商品表

|   字段名    |  类型  | 说明                                   |
| :---------: | :----: | :------------------------------------- |
|     ID      |  int   | 商品id，创建商品自动创建，由数据库维护 |
|   ShopID    |  int   | 商家id，创建商品的用户id               |
|    Name     | string | 商品名称                               |
|   Picture   | string | 商品图片路径                           |
| Description | string | 描述                                   |
|    Price    | float  | 价格                                   |

#### 订单表

| 字段名 | 类型  | 说明                                                 |
| :----: | :---: | ---------------------------------------------------- |
|   ID   |  int  | 订单流水号，10位int，创建订单自动创建，由数据库维护  |
|  Time  |  int  | 创建订单时间戳                                       |
| ItemID |  int  | 商品id，订单购买的商品                               |
| UserID |  int  | 用户id，购买订单的用户                               |
| Price  | float | 购买价格，商品购买价格                               |
| State  |  int  | 购买状态，分为 0 - 已下单，1 - 已发货， 2 - 已收货； |

### 对接功能：

对接到前端所需要的功能：

| 功能     | 说明                                         |
| -------- | -------------------------------------------- |
| 注册     | 注册用户和商家，管理员不可注册               |
| 上架商品 | 商家可以上架新的商品                         |
| 修改商品 | 商家可以修改商品的参数                       |
| 删除商品 | 商家可以删除商品                             |
| 浏览商品 | 商家和用户都可以浏览已上架的商品             |
| 下单商品 | 用户可以选择商品下单                         |
| 用户充值 | 用户充值账户                                 |
| 发货商品 | 在用户下单后，上架可以选择进行发货           |
| 收货商品 | 在商品发货后，用户可以收货，此时完成一次交易 |
| 统计收益 | 商家统计收益                                 |
| 统计流出 | 用户统计下单总计                             |

## 3. 第三阶段 前端应用

对接第二阶段的后端，制作一个网页前端，页面要求：

- 注册页面，注册用户
- 登录页面，商家和用户登录
- 商家管理页面，查看已上架商品列表
- 商家管理商品页面，可以添加新商品，也可以修改商品参数
- 商家订单页面，查看下单订单数，并安排发货
- 商家统计页面，统计下单数量，收益
- 用户管理页面，浏览商家，查看商家已上架内容
- 用户下单页面，选择商品进行下单
- 充值页面，用户进行账户充值
- 用户订单页面，查看已下单订单，和订单状态，安排收货
- 用户统计也买你，统计下单数量，消费

## 4. 第四阶段 部署

对于上述3个项目，要求进行服务器部署：

- 进行本地部署，实现功能
- 进行服务器部署，可以公网访问
- 打包成docker image，进行自动化部署

